if game.PlaceId ~= 5561268850 then
    game.Players.LocalPlayer:Kick("Wrong game please wait..")
    wait(3)
    game:GetService("TeleportService"):Teleport(5561268850,LocalPlayer)
end;

if getgenv().IsLoaded == true then 
game.Players.LocalPlayer:Kick("Don't execute more than once")
else
getgenv().IsLoaded = true;
end;

--// Variables \\--
local oldcf = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame

local Updated_On = "Updated on 24/12/2022";

local library = loadstring(game:HttpGet(('https://raw.githubusercontent.com/bloodball/-back-ups-for-libs/main/wall%20v3')))()

local w = library:CreateWindow("Randomly Generated Droids")

local m = w:CreateFolder("Main")

local f = w:CreateFolder("Info")

--// Functions \\--


f:Label(Updated_On,{
    TextSize = 20; 
    TextColor = Color3.fromRGB(255,0,255);
    BgColor = Color3.fromRGB(40,40,40); 
    
})

f:Label("Made By: ronin#5376",{
    TextSize = 20; 
    TextColor = Color3.fromRGB(255,0,255);
    BgColor = Color3.fromRGB(40,40,40); 
    
})

--// Script \\--
getgenv().config = {
    Kill_All = false;
    Collect = false;
    Buttons = false;
    Puzzles = false;
    Players = {};
}

local function find_box()
local final
if getgenv().config.Puzzles then
for i,v in next,game:GetService("Workspace").Room.Enemies:GetDescendants() do
    if v.Name == "Base" then
        final = v.Position
    end
end

for i,v in next,game:GetService("Workspace").Room.Enemies:GetDescendants() do
    if v.Name == "Box" then
        v.Position = final  
    end
end
end
end

for i,v in next, game.Players:GetPlayers() do
    if not table.find(getgenv().config.Players,v.Name) then
        table.insert(getgenv().config.Players,v.Name)
    end
end;

spawn(function()
while task.wait() do game.RunService.Heartbeat:Wait()
if getgenv().config.Kill_All then task.wait(.13)
pcall(function()
    for i,v in pairs(game.Workspace:FindFirstChild("Room"):GetDescendants()) do
        if v:IsA("Humanoid") and not table.find(getgenv().config.Players,v.Parent.Name) and v.Parent.Name ~= "Friendly Droid" and v.Parent.Name ~= "Anti Droid" and v~=game.Players.LocalPlayer and not v.Parent:FindFirstChild("ForceField") and v.Parent:WaitForChild("Head") and v.Parent.Name ~= "Crystal" then
            game.Players.LocalPlayer.Character:FindFirstChildOfClass("Tool"):Activate()
            v.Health = 0
            v.Parent.PrimaryPart.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame*CFrame.new(0,0,13)
            firetouchinterest(game.Players.LocalPlayer.Character:FindFirstChildOfClass("Tool"):FindFirstChild("Handle"),v.Parent.Head,0)
            firetouchinterest(game.Players.LocalPlayer.Character:FindFirstChildOfClass("Tool"):FindFirstChild("Handle"),v.Parent.Head,1)
        elseif v:IsA("Humanoid") and v.Parent.Name == "Crystal" or v.Parent.Name == "CrystalPink" and v.Health>0 then
            game.Players.LocalPlayer.Character:FindFirstChildOfClass("Tool"):Activate()
            firetouchinterest(game.Players.LocalPlayer.Character:FindFirstChildOfClass("Tool"):FindFirstChild("Handle"),v.Parent.Head,0)
            firetouchinterest(game.Players.LocalPlayer.Character:FindFirstChildOfClass("Tool"):FindFirstChild("Handle"),v.Parent.Head,1)
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v.Parent.Head.CFrame*CFrame.new(0,10,-10)
        elseif v:IsA("Humanoid") and v.Parent.Name == "Crystal" or v.Parent.Name == "CrystalPink" and v.Health == 0 then
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = oldcf
            end
            end
        end)
    end
end
end);

game.RunService.Stepped:Connect(function() 
if getgenv().config.Collect then
pcall(function()
for i,v in next, game.Workspace:GetDescendants() do 
    if v.Name == "CircuitScript" then game.Players.LocalPlayer.Character:WaitForChild("HumanoidRootPart")
        firetouchinterest(game.Players.LocalPlayer.Character.HumanoidRootPart,v.Parent,0)
        firetouchinterest(game.Players.LocalPlayer.Character.HumanoidRootPart,v.Parent,1)
    end
end
end)
end
end);

spawn(function()
while task.wait() do game.RunService.Heartbeat:Wait()
if getgenv().config.Buttons then
pcall(function()
for i,v in ipairs(game.Workspace:FindFirstChild("Room"):GetDescendants()) do
if v:FindFirstChild("ClickDetector") and v.Parent.ClassName ~= "Folder" and v.Parent.Name ~= "FreezeButton" then task.wait(.25)
        fireclickdetector(v:FindFirstChild("ClickDetector"))    
    end
end
end)
end
end
end);

spawn(function()
while task.wait() do game.RunService.Heartbeat:Wait()
if getgenv().config.Puzzles then
pcall(function()
for i,v in next,game.Workspace:FindFirstChild("Room"):GetDescendants() do
    if v.Name == "Box" then
    spawn(find_box)
    end
    end
end)
end
end
end)

game.RunService.Stepped:Connect(function()
if getgenv().config.Kill_All then
    pcall(function()
        for i,v in ipairs(game.Workspace:FindFirstChild("Room"):GetDescendants()) do
            if v.Name == "Killer" and v.Parent:FindFirstChild("TouchInterest") then
                v.Parent.Parent = nil
            end
        end
    end)
    end
end)


--// Buttons \\--
m:Toggle("Kill All Droids",function(bool)
    getgenv().config.Kill_All = bool
end);

m:Toggle("Collect Circuits",function(bool)
    getgenv().config.Collect = bool
end);

m:Toggle("Auto Finish Puzzles",function(bool)
    getgenv().config.Puzzles = bool
end);

m:Toggle("Click All Buttons",function(bool)
    getgenv().config.Buttons = bool
end);

